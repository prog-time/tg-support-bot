# TG Support Bot โ ะัะปััะธะบะฐะฝะฐะปัะฝะฐั ะฟะปะฐััะพัะผะฐ ัะตัะฝะธัะตัะบะพะน ะฟะพะดะดะตัะถะบะธ

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](./LICENSE)
[![PHP](https://img.shields.io/badge/PHP-8.2+-777BB4?logo=php&logoColor=white)](https://www.php.net/)
[![Laravel](https://img.shields.io/badge/Laravel-12.0+-FF2D20?logo=laravel&logoColor=white)](https://laravel.com/)
[![Docker](https://img.shields.io/badge/Docker-ready-2496ED?logo=docker&logoColor=white)](https://www.docker.com/)

ะขะตะปะตะณัะฐะผ ะฑะพั ะดะปั ะพะฑัะตะดะธะฝะตะฝะธั ัะพะพะฑัะตะฝะธะน ะธะท **Telegram**, **ะะะพะฝัะฐะบัะต** ะธ **ััะพัะพะฝะฝะธั API ะธััะพัะฝะธะบะพะฒ** ะฒ ะตะดะธะฝัั ัะธััะตะผั ัะตัะฝะธัะตัะบะพะน ะฟะพะดะดะตัะถะบะธ.

ะกะพะพะฑัะตะฝะธั ะพัะฟัะฐะฒะปััััั ะฒ Telegram-ะณััะฟะฟั, ะณะดะต ะฟะพะด ะบะฐะถะดะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั ัะพะทะดะฐัััั ะพัะดะตะปัะฝะฐั **ัะฐั-ัะตะผะฐ (ัะพะฟะธะบ)**.

ะะพั ะฟะพะดะดะตัะถะธะฒะฐะตั **ะฒัะต ัะธะฟั ัะพะพะฑัะตะฝะธะน**: ัะตะบัั, ะธะทะพะฑัะฐะถะตะฝะธั, ัะฐะนะปั, ะณะพะปะพัะพะฒัะต ัะพะพะฑัะตะฝะธั, ะฒะธะดะตะพ, ััะธะบะตัั, ะบะพะฝัะฐะบัั ะธ ะดััะณะธะต ะผะตะดะธะฐัะฐะนะปั.

---

## ะะตะผะพะฝัััะฐัะธั

**ะัะตะทะตะฝัะฐัะธั ัะฐะฑะพัั ะฑะพัะฐ:** [https://youtu.be/hIpYreHOxIk](https://youtu.be/hIpYreHOxIk)

**ะะฝััััะบัะธั ะฟะพ ัััะฐะฝะพะฒะบะต ัะตัะตะท Docker Compose:** [https://youtu.be/ZAtP9qJ5q9M](https://youtu.be/ZAtP9qJ5q9M)

**Telegram-ะณััะฟะฟะฐ ะฟะพะดะดะตัะถะบะธ:** [https://t.me/pt_tg_support](https://t.me/pt_tg_support)

---

## ะกะพะดะตัะถะฐะฝะธะต

- [ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั](#-ะบะฐะบ-ััะพ-ัะฐะฑะพัะฐะตั)
- [ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ](#-ะพัะฝะพะฒะฝัะต-ะฒะพะทะผะพะถะฝะพััะธ)
- [ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ](#-ัะตัะฝะพะปะพะณะธัะตัะบะธะน-ััะตะบ)
- [ะัััััะน ััะฐัั](#-ะฑัััััะน-ััะฐัั)
- [ะฃััะฐะฝะพะฒะบะฐ ะธ ะฝะฐัััะพะนะบะฐ](#-ัััะฐะฝะพะฒะบะฐ-ะธ-ะฝะฐัััะพะนะบะฐ)
- [AI ะฟะพะผะพัะฝะธะบ](#-ai-ะฟะพะผะพัะฝะธะบ)
- [ะะธะฒะพะน ัะฐั ะดะปั ัะฐะนัะฐ](#-ะถะธะฒะพะน-ัะฐั-ะดะปั-ัะฐะนัะฐ)
- [API ะธะฝัะตะณัะฐัะธั](#-api-ะธะฝัะตะณัะฐัะธั)
- [ะะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธัะพะฒะฐะฝะธะต](#-ะผะพะฝะธัะพัะธะฝะณ-ะธ-ะปะพะณะธัะพะฒะฐะฝะธะต)
- [ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะธะฟั ัะพะพะฑัะตะฝะธะน](#-ะฟะพะดะดะตัะถะธะฒะฐะตะผัะต-ัะธะฟั-ัะพะพะฑัะตะฝะธะน)
- [ะะฝัะตัะฐะบัะธะฒะฝัะต ะบะปะฐะฒะธะฐัััั](#-ะธะฝัะตัะฐะบัะธะฒะฝัะต-ะบะปะฐะฒะธะฐัััั)
- [ะััะธัะตะบัััะฐ](#-ะฐััะธัะตะบัััะฐ)
- [ะะฐะทะฒะตัััะฒะฐะฝะธะต](#-ัะฐะทะฒะตัััะฒะฐะฝะธะต)
- [ะะพะบัะผะตะฝัะฐัะธั](#-ะดะพะบัะผะตะฝัะฐัะธั)
- [ะะบะปะฐะด ะฒ ะฟัะพะตะบั](#-ะฒะบะปะฐะด-ะฒ-ะฟัะพะตะบั)
- [ะะธัะตะฝะทะธั](#-ะปะธัะตะฝะทะธั)

---

## ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

```
โโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโโโ
โ  Telegram   โโโโโโโโโโถโ             โโโโโโโโโโโ   ะะะพะฝัะฐะบัะต     โ
โ   Users     โ         โ             โ         โ     Users       โ
โโโโโโโโโโโโโโโ         โ             โ         โโโโโโโโโโโโโโโโโโโ
                        โ             โ
โโโโโโโโโโโโโโโ         โ   TG Bot    โ         โโโโโโโโโโโโโโโโโโโ
โ  Website    โโโโโโโโโโถโ   Server    โโโโโโโโโโโ  External API   โ
โ   Widget    โ         โ             โ         โ    Sources      โ
โโโโโโโโโโโโโโโ         โ             โ         โโโโโโโโโโโโโโโโโโโ
                        โโโโโโโโฌโโโโโโโ
                               โ
                               โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโ
                    โ  Telegram Group      โ
                    โ  โโโโโโโโโโโโโโโโโโ  โ
                    โ  โ Topic: User 1  โ  โ
                    โ  โโโโโโโโโโโโโโโโโโค  โ
                    โ  โ Topic: User 2  โ  โ
                    โ  โโโโโโโโโโโโโโโโโโค  โ
                    โ  โ Topic: User 3  โ  โ
                    โ  โโโโโโโโโโโโโโโโโโ  โ
                    โโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะัะพัะตัั ะพะฑัะฐะฑะพัะบะธ ัะพะพะฑัะตะฝะธะน

1. **ะะพะปััะตะฝะธะต ัะพะพะฑัะตะฝะธั**: ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะปัะตั ัะพะพะฑัะตะฝะธะต ะฑะพัั ัะตัะตะท Telegram, ะะะพะฝัะฐะบัะต, ะฒะธะดะถะตั ัะฐะนัะฐ ะธะปะธ ะฒะฝะตัะฝะธะน API
2. **ะกะพะทะดะฐะฝะธะต ัะพะฟะธะบะฐ**: ะะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฝะฐัะพะดะธั ะธะปะธ ัะพะทะดะฐัั ัะตะผั (ัะพะฟะธะบ) ะฒ Telegram-ะณััะฟะฟะต ะดะปั ััะพะณะพ ะบะปะธะตะฝัะฐ
3. **ะะตัะตััะปะบะฐ ะฒ ะณััะฟะฟั**: ะกะพะพะฑัะตะฝะธะต ะฟะตัะตััะปะฐะตััั ะฒ ัะพะพัะฒะตัััะฒััััั ัะตะผั ั ะธะฝัะพัะผะฐัะธะตะน ะพะฑ ะพัะฟัะฐะฒะธัะตะปะต
4. **ะัะฒะตั ะผะตะฝะตะดะถะตัะฐ**: ะะตะฝะตะดะถะตัั ะพัะฒะตัะฐัั **ะฟััะผะพ ะฒ ัะตะผะต** โ ะฑะพั ะพััะปะตะถะธะฒะฐะตั ะธั ัะพะพะฑัะตะฝะธั
5. **ะัะฟัะฐะฒะบะฐ ะบะปะธะตะฝัั**: ะัะฒะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะตัะตััะปะฐะตััั ะบะปะธะตะฝัั **ะพั ะธะผะตะฝะธ ะฑะพัะฐ** (ะฑะตะท ัะฐัะบัััะธั ะปะธัะฝะพััะธ ะผะตะฝะตะดะถะตัะฐ)

---

## ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

### ะัะปััะธะบะฐะฝะฐะปัะฝะพััั
- **Telegram**: ะะพะปะฝะฐั ะฟะพะดะดะตัะถะบะฐ Telegram Bot API
- **ะะะพะฝัะฐะบัะต**: ะะฝัะตะณัะฐัะธั ั VK API ะดะปั ัะพะพะฑัะตะฝะธะน ัะพะพะฑัะตััะฒะฐ
- **Website Widget**: ะะพัะพะฒัะน ะฒะธะดะถะตั ะถะธะฒะพะณะพ ัะฐัะฐ ะดะปั ะฒัััะฐะธะฒะฐะฝะธั ะฝะฐ ัะฐะนั
- **External API**: REST API ะดะปั ะฟะพะดะบะปััะตะฝะธั ััะพัะพะฝะฝะธั ะธััะพัะฝะธะบะพะฒ

### ะะพะผะผัะฝะธะบะฐัะธั
- ะัะต ัะธะฟั ะผะตะดะธะฐัะฐะนะปะพะฒ (ัะตะบัั, ะธะทะพะฑัะฐะถะตะฝะธั, ะดะพะบัะผะตะฝัั, ะณะพะปะพัะพะฒัะต, ะฒะธะดะตะพ, ััะธะบะตัั, ะบะพะฝัะฐะบัั)
- ะะฒัะพะผะฐัะธัะตัะบะฐั ะพัะณะฐะฝะธะทะฐัะธั ะดะธะฐะปะพะณะพะฒ ะฒ ัะพะฟะธะบะธ Telegram-ะณััะฟะฟั
- ะัะธะฒะฐัะฝะพััั: ะบะปะธะตะฝัั ะฝะต ะฒะธะดัั, ะบัะพ ะธะท ะผะตะฝะตะดะถะตัะพะฒ ะธะผ ะพัะฒะตัะฐะตั
- ะะฐัััะฐะธะฒะฐะตะผัะต ัะฐะฑะปะพะฝั ะธะผะตะฝ ัะพะฟะธะบะพะฒ

### ะะฒัะพะผะฐัะธะทะฐัะธั
- **AI ะฟะพะผะพัะฝะธะบ**: ะะฝัะตะณัะฐัะธั ั OpenAI, DeepSeek, GigaChat ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะธั ะพัะฒะตัะพะฒ
- ะัะตัะตะดะธ ัะพะพะฑัะตะฝะธะน ั Laravel Queue
- Webhook ะพะฑัะฐะฑะพัะบะฐ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
- WebSocket ะฟะพะดะดะตัะถะบะฐ ัะตัะตะท Socket.io

### ะฃะฟัะฐะฒะปะตะฝะธะต ะธ ะผะพะฝะธัะพัะธะฝะณ
- **Grafana**: ะะธะทัะฐะปะธะทะฐัะธั ะผะตััะธะบ ะธ ััะฐัะธััะธะบะธ
- **Loki**: ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต
- **PgAdmin**: ะฃะฟัะฐะฒะปะตะฝะธะต ะฑะฐะทะพะน ะดะฐะฝะฝัั
- **RedisInsight**: ะะพะฝะธัะพัะธะฝะณ Redis
- ะะฝัะตะณัะฐัะธั ั Sentry ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ะพัะธะฑะพะบ

### ะะพะดะตัะฐัะธั
- ะะปะพะบะธัะพะฒะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ะะฐะบัััะธะต ะพะฑัะฐัะตะฝะธะน
- ะััะพัะธั ะฒัะตั ัะพะพะฑัะตะฝะธะน
- ะฃะฟัะฐะฒะปะตะฝะธะต ะฒะฝะตัะฝะธะผะธ ะธััะพัะฝะธะบะฐะผะธ

---

## ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

**Backend:**
- Laravel 12.0+ (PHP 8.2+)
- PostgreSQL (ะฑะฐะทะฐ ะดะฐะฝะฝัั)
- Redis (ะบัั ะธ ะพัะตัะตะดะธ)
- Laravel Queue (ะพะฑัะฐะฑะพัะบะฐ ัะพะฝะพะฒัั ะทะฐะดะฐั)

**Frontend & Real-time:**
- Node.js + Socket.io (WebSocket ัะตัะฒะตั)
- JavaScript (ะฒะธะดะถะตั ัะฐัะฐ)

**External APIs:**
- Telegram Bot API
- VK API
- OpenAI API / DeepSeek / GigaChat (AI)

**DevOps:**
- Docker + Docker Compose
- Nginx (ะฒะตะฑ-ัะตัะฒะตั)
- Certbot (SSL ัะตััะธัะธะบะฐัั)

**Monitoring & Logging:**
- Grafana (ะดะฐัะฑะพัะดั)
- Loki (ะปะพะณะธ)
- Promtail (ัะฑะพั ะปะพะณะพะฒ)
- Sentry (error tracking)

**Development:**
- PHPUnit (ัะตััะธัะพะฒะฐะฝะธะต)
- PHPStan (ััะฐัะธัะตัะบะธะน ะฐะฝะฐะปะธะท)
- Laravel Pint (code style)

---

## ะัััััะน ััะฐัั

### ะขัะตะฑะพะฒะฐะฝะธั

- Docker 20.10+
- Docker Compose 2.0+
- Git

---

## ะฃััะฐะฝะพะฒะบะฐ ะธ ะฝะฐัััะพะนะบะฐ

### ะะพะดะณะพัะพะฒะบะฐ

**ะกะพะทะดะฐะนัะต Telegram ะฑะพัะฐ:**
1. ะะฐะฟะธัะธัะต [@BotFather](https://t.me/BotFather)
2. ะัะฟัะฐะฒััะต `/newbot`
3. ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ ะธ ะฟะพะปััะธัะต `TELEGRAM_TOKEN`
4. ะัะบะปััะธัะต Privacy Mode: `/setprivacy` โ Disable

**ะกะพะทะดะฐะนัะต Telegram ะณััะฟะฟั:**
1. ะกะพะทะดะฐะนัะต ะฝะพะฒัั ะณััะฟะฟั
2. ะะพะฑะฐะฒััะต ะฒ ะฝะตั ัะพะทะดะฐะฝะฝะพะณะพ ะฑะพัะฐ ะบะฐะบ ะฐะดะผะธะฝะธัััะฐัะพัะฐ
3. ะะบะปััะธัะต Topics (ัะตะผั) ะฒ ะฝะฐัััะพะนะบะฐั ะณััะฟะฟั
4. ะะพะปััะธัะต `TELEGRAM_GROUP_ID` (ะผะพะถะฝะพ ัะตัะตะท ะฑะพัะฐ [@getidsbot](https://t.me/getidsbot))

**ะะปั ะะะพะฝัะฐะบัะต (ะพะฟัะธะพะฝะฐะปัะฝะพ):**
1. ะกะพะทะดะฐะนัะต ัะพะพะฑัะตััะฒะพ ะะะพะฝัะฐะบัะต
2. ะะฐัััะพะนัะต API: ะะฐัััะพะนะบะธ โ API โ ะกะพะทะดะฐัั ะบะปัั
3. ะะพะปััะธัะต `VK_TOKEN`, `VK_CONFIRM_CODE`, `VK_SECRET_CODE`

### ะะพะฝัะธะณััะฐัะธั .env

```env
# ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ
APP_NAME="TG Support Bot"
APP_URL=https://yourdomain.com
MAIN_DOMAIN=yourdomain.com

# Telegram Bot
TELEGRAM_TOKEN="123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"
TELEGRAM_GROUP_ID="-1001234567890"
TELEGRAM_SECRET_KEY="your_random_secret_key"

# VK (ะพะฟัะธะพะฝะฐะปัะฝะพ)
VK_TOKEN="your_vk_token"
VK_CONFIRM_CODE="12345678"
VK_SECRET_CODE="your_vk_secret"

# ะะฐะทะฐ ะดะฐะฝะฝัั
DB_CONNECTION=pgsql
DB_HOST=pgdb
DB_PORT=5432
DB_DATABASE=support_bot
DB_USERNAME=postgres
DB_PASSWORD=secure_password

# Redis
REDIS_HOST=redis
REDIS_PASSWORD=secure_redis_password

# ะจะฐะฑะปะพะฝ ะธะผะตะฝะธ ัะพะฟะธะบะฐ
TEMPLATE_TOPIC_NAME="{first_name} {last_name} {platform}"
```

### ะัะฑะตัะธัะต ะพะดะฝั ะธะท 2 ะธะฝััััะบัะธะน 

ะฃััะฐะฝะพะฒะบะฐ ะฝะฐ ัะพััะธะฝะณ - https://github.com/prog-time/tg-support-bot/wiki/ะะฝััััะบัะธั-ะฟะพ-ัััะฐะฝะพะฒะบะต-ะฑะพัะฐ-ะฝะฐ-ัะพััะธะฝะณ

ะฃััะฐะฝะพะฒะบะฐ ัะตัะตะท Docker Compose - https://github.com/prog-time/tg-support-bot/wiki/ะฃััะฐะฝะพะฒะบะฐ-ัะตัะตะท-Docker-Compose

---

## AI ะฟะพะผะพัะฝะธะบ

ะะพั ะฟะพะดะดะตัะถะธะฒะฐะตั ะธะฝัะตะณัะฐัะธั ั AI ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะณะตะฝะตัะฐัะธะธ ะพัะฒะตัะพะฒ.

### ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะฟัะพะฒะฐะนะดะตัั

- **OpenAI** (GPT-4, GPT-3.5)
- **DeepSeek**
- **GigaChat** (ะกะฑะตั)

### ะะฐัััะพะนะบะฐ

```env
# ะะบะปััะธัั AI
AI_ENABLED=true
AI_AUTO_REPLY=false  # true ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะธั ะพัะฒะตัะพะฒ

# ะัะฑะพั ะฟัะพะฒะฐะนะดะตัะฐ
AI_DEFAULT_PROVIDER=openai  # ะธะปะธ deepseek, gigachat

# OpenAI
OPENAI_API_KEY=sk-proj-...
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# DeepSeek
DEEPSEEK_CLIENT_SECRET=sk-...
DEEPSEEK_MODEL=deepseek-chat

# GigaChat
GIGACHAT_CLIENT_SECRET=your_secret
GIGACHAT_MODEL=GigaChat-2-Max
```

### ะฃะฟัะฐะฒะปะตะฝะธะต AI

AI ะฟะพะผะพัะฝะธะบ ะฐะบัะธะฒะธััะตััั ัะตัะตะท ะบะพะผะฐะฝะดั ะฑะพัะฐ ะธะปะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ะฒะบะปััะตะฝะธะธ `AI_AUTO_REPLY=true`.

ะะพั ะผะพะถะตั ะณะตะฝะตัะธัะพะฒะฐัั ะพัะฒะตัั ะฝะฐ ะพัะฝะพะฒะต ะธััะพัะธะธ ะดะธะฐะปะพะณะฐ ะธ ะบะพะฝัะตะบััะฐ.

---

## ะะธะฒะพะน ัะฐั ะดะปั ัะฐะนัะฐ

ะัะพะตะบั ะฒะบะปััะฐะตั ะณะพัะพะฒัะน ะฒะธะดะถะตั ะถะธะฒะพะณะพ ัะฐัะฐ ะดะปั ะฒัััะฐะธะฒะฐะฝะธั ะฝะฐ ัะฐะนั.

### ะะตะผะพ

[ะัะธะผะตั ัะฐะฑะพัั ะฒะธะดะถะตัะฐ](https://tg-support-bot.ru/preview/chat)

### ะฃััะฐะฝะพะฒะบะฐ ะฒะธะดะถะตัะฐ

ะะพะดัะพะฑะฝะฐั ะธะฝััััะบัะธั ะดะพัััะฟะฝะฐ ะฒ [ัะฐะทะดะตะปะต Wiki](https://github.com/prog-time/tg-support-bot/wiki/).

**ะัะฐัะบะฐั ะธะฝััััะบัะธั:**

1. ะกะบะพะฟะธััะนัะต ะบะพะด ะฒะธะดะถะตัะฐ ะธะท `public/chat-widget.js`
2. ะััะฐะฒััะต ะฟะตัะตะด ะทะฐะบััะฒะฐััะธะผ ัะตะณะพะผ `</body>` ะฝะฐ ะฒะฐัะตะผ ัะฐะนัะต:

```html
<script src="https://yourdomain.com/chat-widget.js"></script>
<script>
  ChatWidget.init({
    apiUrl: 'https://yourdomain.com',
    source: 'website'
  });
</script>
```

3. ะัะต ัะพะพะฑัะตะฝะธั ะธะท ะฒะธะดะถะตัะฐ ะฑัะดัั ะฟะพัััะฟะฐัั ะฒ Telegram ะณััะฟะฟั

---

## API ะธะฝัะตะณัะฐัะธั

### REST API ะดะปั ััะพัะพะฝะฝะธั ะธััะพัะฝะธะบะพะฒ

ะะพั ะฟัะตะดะพััะฐะฒะปัะตั REST API ะดะปั ะฟะพะดะบะปััะตะฝะธั ะฒะฝะตัะฝะธั ัะธััะตะผ.

**Endpoint:** `POST /api/external/message`

**ะัะธะผะตั ะทะฐะฟัะพัะฐ:**

```bash
curl -X POST https://yourdomain.com/api/external/message \
  -H "Authorization: Bearer YOUR_API_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "crm-system",
    "external_user_id": "user_12345",
    "first_name": "ะะฒะฐะฝ",
    "last_name": "ะะตััะพะฒ",
    "message": "ะะดัะฐะฒััะฒัะนัะต, ั ะผะตะฝั ะฒะพะฟัะพั ะฟะพ ะทะฐะบะฐะทั",
    "message_type": "text"
  }'
```

**ะะฐัะฐะผะตััั:**
- `source` โ ะธะดะตะฝัะธัะธะบะฐัะพั ะฒะฝะตัะฝะตะณะพ ะธััะพัะฝะธะบะฐ
- `external_user_id` โ ID ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ะฒะฐัะตะน ัะธััะตะผะต
- `first_name`, `last_name` โ ะธะผั ะธ ัะฐะผะธะปะธั
- `message` โ ัะตะบัั ัะพะพะฑัะตะฝะธั
- `message_type` โ ัะธะฟ ัะพะพะฑัะตะฝะธั (`text`, `photo`, `document`, ะธ ั.ะด.)

**ะัะฒะตั:**

```json
{
  "success": true,
  "message_id": 12345,
  "topic_id": 67890
}
```

ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั API ะดะพัััะฟะฝะฐ ัะตัะตะท Swagger: `https://yourdomain.com/api/documentation`

---

## ะะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธัะพะฒะฐะฝะธะต

### Grafana

**URL:** `https://grafana.yourdomain.com`

ะะพะณะธะฝ: ะทะฝะฐัะตะฝะธะต ะธะท `GRAFANA_USER`
ะะฐัะพะปั: ะทะฝะฐัะตะฝะธะต ะธะท `GRAFANA_PASSWORD`

Grafana ะฟะพะดะบะปััะตะฝะฐ ะบ Loki ะดะปั ะฒะธะทัะฐะปะธะทะฐัะธะธ ะปะพะณะพะฒ ะธ ัะพะทะดะฐะฝะธั ะดะฐัะฑะพัะดะพะฒ.

### Loki

ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะพะต ััะฐะฝะธะปะธัะต ะปะพะณะพะฒ. ะะพัััะฟะตะฝ ะฝะฐ `http://loki:3100`.

### PgAdmin

ะะตะฑ-ะธะฝัะตััะตะนั ะดะปั ัะฟัะฐะฒะปะตะฝะธั PostgreSQL.

**URL:** `https://pgadmin.yourdomain.com`

ะะพะณะธะฝ: `PGADMIN_EMAIL`
ะะฐัะพะปั: `PGADMIN_PASSWORD`

### RedisInsight

ะะพะฝะธัะพัะธะฝะณ Redis.

**URL:** `http://redis:8001`

### Sentry (ะพะฟัะธะพะฝะฐะปัะฝะพ)

ะะปั ะพััะปะตะถะธะฒะฐะฝะธั ะพัะธะฑะพะบ ะฒ production ะฝะฐัััะพะนัะต:

```env
SENTRY_LARAVEL_DSN=https://...@sentry.io/...
SENTRY_TRACES_SAMPLE_RATE=0.1
```

---

## ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะธะฟั ัะพะพะฑัะตะฝะธะน

### Telegram
- โ ะขะตะบััะพะฒัะต ัะพะพะฑัะตะฝะธั
- โ ะคะพัะพ
- โ ะะพะบัะผะตะฝัั
- โ ะะพะปะพัะพะฒัะต ัะพะพะฑัะตะฝะธั
- โ ะะธะดะตะพ
- โ ะะธะดะตะพ-ะบััะถะบะธ (video notes)
- โ ะกัะธะบะตัั
- โ ะัะดะธะพ
- โ ะะพะฝัะฐะบัั
- โ ะะพะบะฐัะธะธ
- โ ะะฟัะพัั (polls)

### ะะะพะฝัะฐะบัะต
- โ ะขะตะบััะพะฒัะต ัะพะพะฑัะตะฝะธั
- โ ะคะพัะพ
- โ ะะพะบัะผะตะฝัั
- โ ะะพะปะพัะพะฒัะต ัะพะพะฑัะตะฝะธั
- โ ะะธะดะตะพ
- โ ะกัะธะบะตัั
- โ ะัะดะธะพ

### Website Widget
- โ ะขะตะบััะพะฒัะต ัะพะพะฑัะตะฝะธั
- โ ะคะฐะนะปั (ะธะทะพะฑัะฐะถะตะฝะธั, ะดะพะบัะผะตะฝัั)

### External API
- โ ะัะต ัะธะฟั ัะตัะตะท API (ะพะฟัะตะดะตะปัะตััั ะฟะฐัะฐะผะตััะพะผ `message_type`)

---

## ะะฝัะตัะฐะบัะธะฒะฝัะต ะบะปะฐะฒะธะฐัััั

ะะพั ะฟะพะดะดะตัะถะธะฒะฐะตั ะพัะฟัะฐะฒะบั ะธะฝัะตัะฐะบัะธะฒะฝัั ะบะปะฐะฒะธะฐััั ะฟะพะปัะทะพะฒะฐัะตะปัะผ ัะตัะตะท ัะฟะตัะธะฐะปัะฝัะน ัะธะฝัะฐะบัะธั ะฒ ัะตะบััะต ัะพะพะฑัะตะฝะธั.

### ะกะธะฝัะฐะบัะธั

ะะฝะพะฟะบะธ ะดะพะฑะฐะฒะปััััั ะฒ ัะตะบัั ัะพะพะฑัะตะฝะธั ั ะฟะพะผะพััั ะดะฒะพะนะฝัั ะบะฒะฐะดัะฐัะฝัั ัะบะพะฑะพะบ:

```
[[ะขะตะบัั ะบะฝะพะฟะบะธ|ัะธะฟ:ะทะฝะฐัะตะฝะธะต]]
```

### ะขะธะฟั ะบะฝะพะฟะพะบ

| ะขะธะฟ | ะกะธะฝัะฐะบัะธั | ะะฟะธัะฐะฝะธะต |
|-----|-----------|----------|
| URL | `[[ะัะบัััั ัะฐะนั\|url:https://example.com]]` | ะะฝะพะฟะบะฐ ัะพ ัััะปะบะพะน |
| Callback | `[[ะะฐะทะฐะด\|callback:back]]` | Inline callback ะบะฝะพะฟะบะฐ |
| Phone | `[[ะัะฟัะฐะฒะธัั ะฝะพะผะตั\|phone]]` | ะะฐะฟัะพั ะบะพะฝัะฐะบัะฐ ะฟะพะปัะทะพะฒะฐัะตะปั |
| Text | `[[ะะฐัะธะฐะฝั 1]]` | ะขะตะบััะพะฒะฐั ะบะฝะพะฟะบะฐ (reply keyboard) |

### ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

**Inline ะบะปะฐะฒะธะฐัััะฐ ั URL ะธ callback ะบะฝะพะฟะบะฐะผะธ:**

```
ะะพะฑััะน ะดะตะฝั! ะงะตะผ ะผะพะณั ะฟะพะผะพัั?
[[ะัะบัััั ัะฐะนั|url:https://example.com]]
[[ะะตัะฝััััั ะฝะฐะทะฐะด|callback:back]]
[[ะะพะทะฒะฐัั ะพะฟะตัะฐัะพัะฐ|callback:operator]]
```

**ะะฝะพะฟะบะธ ะฒ ะพะดะฝะพะผ ััะดั** (ะฑะตะท ะฟะตัะตะฝะพัะฐ ัััะพะบะธ ะผะตะถะดั ะฝะธะผะธ):

```
ะัะฑะตัะธัะต ะฒะฐัะธะฐะฝั:
[[ะะฐ|callback:yes]] [[ะะตั|callback:no]]
```

**Reply ะบะปะฐะฒะธะฐัััะฐ ั ะทะฐะฟัะพัะพะผ ะบะพะฝัะฐะบัะฐ:**

```
ะะปั ะฟัะพะดะพะปะถะตะฝะธั ะฟะพะดะตะปะธัะตัั ัะฒะพะธะผ ะฝะพะผะตัะพะผ ัะตะปะตัะพะฝะฐ
[[ะัะฟัะฐะฒะธัั ะฝะพะผะตั|phone]]
```

**ะขะตะบััะพะฒัะต ะบะฝะพะฟะบะธ:**

```
ะัะฑะตัะธัะต ะบะฐัะตะณะพัะธั:
[[ะขะตัะฝะธัะตัะบะฐั ะฟะพะดะดะตัะถะบะฐ]]
[[ะะพะฟัะพั ะฟะพ ะพะฟะปะฐัะต]]
[[ะััะณะพะต]]
```

### ะะพะดะดะตัะถะบะฐ ะฟะพ ะฟะปะฐััะพัะผะฐะผ

| ะะปะฐััะพัะผะฐ | Inline Keyboard | Reply Keyboard |
|-----------|-----------------|----------------|
| Telegram | โ | โ |
| ะะะพะฝัะฐะบัะต | โ | โ |
| External API | โ (ัะตัะตะท webhook) | โ (ัะตัะตะท webhook) |

### ะัะธะผะตัะฐะฝะธั

- ะะฝะพะฟะบะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะดะฐะปััััั ะธะท ัะตะบััะฐ ัะพะพะฑัะตะฝะธั
- Inline ะบะฝะพะฟะบะธ (url, callback) ะธะผะตัั ะฟัะธะพัะธัะตั ะฝะฐะด reply keyboard
- ะะฐะบัะธะผัะผ 8 ะบะฝะพะฟะพะบ ะฒ ะพะดะฝะพะผ ััะดั ะดะปั Telegram
- ะะปั VK ะบะฝะพะฟะบะธ ะบะพะฝะฒะตััะธัััััั ะฒ ัะพะพัะฒะตัััะฒัััะธะน ัะพัะผะฐั VK API

---

## ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         Nginx (Reverse Proxy)                   โ
โ                      SSL, Load Balancing                        โ
โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโ
             โ                                   โ
    โโโโโโโโโโผโโโโโโโโโ                 โโโโโโโโโผโโโโโโโโโ
    โ  Laravel App    โ                 โ  Node.js       โ
    โ  (PHP-FPM)      โโโโโโโโโโโโโโโโโโถโ  Socket.io     โ
    โ                 โ     Redis       โ                โ
    โโโโโโโโโโฌโโโโโโโโโ                 โโโโโโโโโโโโโโโโโโ
             โ
    โโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ              Laravel Queue Worker                 โ
    โ         (Background job processing)               โ
    โโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
             โ
    โโโโโโโโโโผโโโโโโโโโฌโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโ
    โ   PostgreSQL    โ    Redis     โ   File Storage   โ
    โ   (Database)    โ  (Cache/Queueโ   (Public Files) โ
    โโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโ
```

### ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั

**App Service**: Laravel ะฟัะธะปะพะถะตะฝะธะต, ะพะฑัะฐะฑะฐััะฒะฐะตั HTTP ะทะฐะฟัะพัั, webhook'ะธ ะพั Telegram/VK

**Queue Worker**: ะะฑัะฐะฑะพัะบะฐ ัะพะฝะพะฒัั ะทะฐะดะฐั (ะพัะฟัะฐะฒะบะฐ ัะพะพะฑัะตะฝะธะน, AI ะพะฑัะฐะฑะพัะบะฐ)

**Node.js Server**: WebSocket ัะตัะฒะตั ะดะปั ะฒะธะดะถะตัะฐ ะถะธะฒะพะณะพ ัะฐัะฐ

**PostgreSQL**: ะัะฝะพะฒะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั (ะฟะพะปัะทะพะฒะฐัะตะปะธ, ัะพะพะฑัะตะฝะธั, ัะพะฟะธะบะธ)

**Redis**: ะัั, ะพัะตัะตะดะธ, pub/sub ะดะปั real-time ะพะฑะฝะพะฒะปะตะฝะธะน

**Nginx**: ะะตะฑ-ัะตัะฒะตั, reverse proxy, SSL termination

**Monitoring Stack**: Grafana + Loki + Promtail ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ

---

## ะะฐะทะฒะตัััะฒะฐะฝะธะต

### SSL/HTTPS

```bash
# ะฃััะฐะฝะพะฒะธัั certbot ะฒ ะบะพะฝัะตะนะฝะตั nginx
docker exec -it nginx certbot --nginx -d yourdomain.com

# ะะฒัะพะผะฐัะธัะตัะบะพะต ะฟัะพะดะปะตะฝะธะต
docker exec -it nginx certbot renew --dry-run
```

---

## ะะพะบัะผะตะฝัะฐัะธั

**Wiki**: [https://github.com/prog-time/tg-support-bot/wiki/](https://github.com/prog-time/tg-support-bot/wiki/)

**API Documentation**: `https://yourdomain.com/api/documentation` (Swagger)

**Telegram ะณััะฟะฟะฐ ะฟะพะดะดะตัะถะบะธ**: [https://t.me/pt_tg_support](https://t.me/pt_tg_support)

**GitHub Issues**: [https://github.com/prog-time/tg-support-bot/issues](https://github.com/prog-time/tg-support-bot/issues)

---

## ะะบะปะฐะด ะฒ ะฟัะพะตะบั

ะั ะฟัะธะฒะตัััะฒัะตะผ ะฒะบะปะฐะด ัะพะพะฑัะตััะฒะฐ!

ะะพะถะฐะปัะนััะฐ, ะพะทะฝะฐะบะพะผััะตัั ั [CONTRIBUTING.md](./CONTRIBUTING.md) ะฟะตัะตะด ะฝะฐัะฐะปะพะผ ัะฐะฑะพัั.

**ะะฐะบ ะฟะพะผะพัั ะฟัะพะตะบัั:**

- ะกะพะพะฑัะฐะนัะต ะพะฑ ะพัะธะฑะบะฐั ัะตัะตะท [GitHub Issues](https://github.com/prog-time/tg-support-bot/issues)
- ะัะตะดะปะฐะณะฐะนัะต ะฝะพะฒัะต ััะฝะบัะธะธ
- ะฃะปัััะฐะนัะต ะดะพะบัะผะตะฝัะฐัะธั
- ะกะพะทะดะฐะฒะฐะนัะต Pull Request'ั

---

## ะะพะดะดะตัะถะบะฐ ะฟัะพะตะบัะฐ

ะัะปะธ ะฟัะพะตะบั ะฑัะป ะฒะฐะผ ะฟะพะปะตะทะตะฝ, ะฟะพะดะดะตัะถะธัะต ะตะณะพ:

- โญ ะะพััะฐะฒััะต ะทะฒะตะทะดั ะฝะฐ GitHub
- ๐ข ะะฐััะบะฐะถะธัะต ะพ ะฟัะพะตะบัะต ะดััะทััะผ ะธ ะบะพะปะปะตะณะฐะผ
- ๐ค ะะฝะตัะธัะต ะฒะบะปะฐะด ะฒ ัะฐะทัะฐะฑะพัะบั

---

## ะะธัะตะฝะทะธั

ะัะพะตะบั ัะฐัะฟัะพัััะฐะฝัะตััั ะฟะพะด ะปะธัะตะฝะทะธะตะน **MIT**.

ะะพะดัะพะฑะฝะตะต: [LICENSE](./LICENSE)

---

## ะะพะฝัะฐะบัั

**GitHub**: [https://github.com/prog-time](https://github.com/prog-time)

**ะัะพะตะบั**: [https://github.com/prog-time/tg-support-bot](https://github.com/prog-time/tg-support-bot)

**Telegram**: [https://t.me/pt_tg_support](https://t.me/pt_tg_support)

---

ะกะดะตะปะฐะฝะพ ั โค๏ธ ะดะปั ัะพะพะฑัะตััะฒะฐ
